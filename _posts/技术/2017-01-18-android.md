---
layout: post
title: Android基础知识
category: 技术
tags: Android
keywords: 
description: 
---

# ubuntu下android开发平台的搭建
## NDK 的安装
1. 从 http://www.androiddevtools.cn/ 下载NDK
2. 解压NDK
3. sudo vim /etc/bash.bashrc 在末尾添加 
 1. export NDK=/home/..../ndk
 2. export PATH=$PATH:$NDK
4. . /etc/bash.bashrc 之后便可以使用ndk-build等命令
 
## JAVA的安装
1. 从 https://www.java.com/en/download/manual.jsp#lin 下载JDK
2. 解压JDK
3. sudo vim /etc/bash.bashrc 在末尾添加
 1. export JAVA_HOME=/home/..../jdk-1.8.0
 2. export JRE_HOME=${JAVA_HOME}/jre
 3. export CLASSPATH=.:${JAVA_HOME}/lib:${JRE_HOME}/lib:${JAVA_HOME}/lib/tools.jar
 4. export PATH=${JAVA_HOME}/bin:$PATH
4. . /etc/bash.bashrc 之后使用 java -version && javac -version 验证安装
 
## ADT bundle 的安装 
1. 从 http://www.androiddevtools.cn/ 下载ADT bundle
2. 在eclipse里 Window->Android SDK Manager里更新sdk 配置见 http://www.androiddevtools.cn/ 重启eclipse生效

## ADT 基础概念
1. ADT bundle: 用于开发android项目的eclipse
 1. sdk(soft Development Kit): 软件开发包
  1. system_images: 系统仿真器
  2. plaform-tools: 和android虚拟机vad相关的命令
  3. tools/android update sdk 命令打开sdk manager
2. ndk 将*.c 和 *.so 文件编译成 *.so 文件， 供java调用

---
# Android常见问题
## VAD apk的安装与卸载
1. adb inatall XXX.apk 安装
2. 删除data/app下的apk文件，重启vad， 卸载 
 
## 两个Activity如何通信
### 发送数据
```
Intent it = new Intent(Activity.Main.this, Activity2.class);
Bundle bundle=new Bundle();
bundle.putString("name", "This is from MainActivity!");
it.putExtras(bundle)；
startActivity(it);
```

### 就收数据
```
Bundle bundle=getIntent().getExtras();
String name=bundle.getString("name");
```

### 返回结果
```
Intent intent=getIntent();
Bundle bundle2=new Bundle();
bundle2.putString("name", "This is from ShowMsg!");
intent.putExtras(bundle2);
setResult(RESULT_OK, intent);
```

## 注意sdcard目录的读写权限

在AndroidManifest.xml中添加
`<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />`

## 如何用C语言在android中打log
```
#include <android/log.h>
#define APPNAME "SDL_Lesson"  
#define LOGV(...) __android_log_print(ANDROID_LOG_VERBOSE, APPNAME, __VA_ARGS__)
#define LOGD(...) __android_log_print(ANDROID_LOG_DEBUG , APPNAME, __VA_ARGS__)
#define LOGI(...) __android_log_print(ANDROID_LOG_INFO , APPNAME, __VA_ARGS__)
#define LOGW(...) __android_log_print(ANDROID_LOG_WARN , APPNAME, __VA_ARGS__)
#define LOGE(...) __android_log_print(ANDROID_LOG_ERROR , APPNAME, __VA_ARGS__)
```

## Android资源网站
1. [androiddevtools](http://www.androiddevtools.cn/)
2. [东软镜像](http://mirrors.neusoft.edu.cn/android/repository/)
3. [ndk 9d linux 32](http://www.360doc.com/content/15/0822/16/597197_494072869.shtml)

